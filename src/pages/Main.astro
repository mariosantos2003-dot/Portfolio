---
import NavBarWithLang from "../components/NavBarWithLang";
import HeroWithLang from "../components/HeroWithLang";
import AboutCard from "../components/cards/AboutCard.astro";
import EducationCard from "../components/cards/EducationCard.astro";
import ExperienceCard from "../components/cards/ExperienceCard.astro";
import ProjectCard from "../components/cards/ProjectCard.astro";
import SectionHeading from "../components/sections/SectionHeading.astro";
import CardFlipBehavior from "../components/CardFlipBehavior.astro";
import { translations } from "../i18n/translations";
import '../components/styles/card-styles.css';
import SkillsSection from "../components/sections/SkillsSection.astro";

const currentLang = "en";
const pathname = Astro.url.pathname;
const enURL = pathname; 
const esURL = `/es${pathname.replace(/^\/en\/?/, "/")}`;
---

<!DOCTYPE html>
<html lang={currentLang}>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mario Santos - Portfolio</title>
  <meta name="description" content="Mario Santos - Frontend Developer Portfolio">
</head>
<body class="bg-primary text-white min-h-screen">
  <!-- Navbar con soporte de idioma -->
  <NavBarWithLang 
    translations={translations[currentLang].navBar} 
    currentLang={currentLang}
    enURL={enURL}
    esURL={esURL}
    client:load 
  />
  
  <!-- Hero section con soporte de idioma -->
  <HeroWithLang 
    translations={translations[currentLang].hero} 
    currentLang={currentLang} 
    client:load 
  />

  <!-- Main section con las tarjetas -->
  <section id="main-section" class="bg-primary-dark mt-16 sm:mt-24 md:mt-40 lg:mt-60 min-h-screen mb-16 sm:mb-32 md:mb-64 lg:mb-100">
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-6 lg:grid-cols-10 grid-rows-auto gap-3 sm:gap-4 md:gap-6 lg:gap-8 px-3 sm:px-6 md:px-10 lg:px-20 py-6 sm:py-10 md:py-16 lg:py-100 w-full text-xl sm:text-2xl md:text-3xl lg:text-4xl text-center font-bold min-h-[80vh]">
      
      <!-- About Me Card -->
      <AboutCard lang={currentLang} />
      
      <!-- Education Card -->
      <EducationCard lang={currentLang} />
      
      <!-- Experience Card -->
      <ExperienceCard lang={currentLang} />
      
      <!-- Projects Heading -->
      <SectionHeading title={translations[currentLang].projects.heading} />
      
      <!-- Project Cards -->
      <ProjectCard 
        lang={currentLang}
        projectKey="nilgrafic"
      />
      
      <ProjectCard 
        lang={currentLang}
        projectKey="divine"
      />
      
    </div>
    <SkillsSection />
  </section>

  <!-- Scripts para el flip de las tarjetas -->
  <CardFlipBehavior />
</body>
</html>